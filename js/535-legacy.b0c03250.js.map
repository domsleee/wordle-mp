{"version":3,"file":"js/535-legacy.b0c03250.js","mappings":"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","sources":["webpack://wordle-mp/./src/views/HomeView.vue?71e6","webpack://wordle-mp/./src/views/HomeView.vue","webpack://wordle-mp/./src/views/HomeView.vue?5bcc","webpack://wordle-mp/./src/views/HomeView.vue?5288"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"max-width\":\"450px\"}},[_c('v-row',{staticClass:\"mx-2 my-5\",attrs:{\"justify\":\"end\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"loading\":_vm.createLoading,\"disabled\":_vm.createLoading,\"color\":\"primary\",\"outlined\":\"\",\"height\":\"56\",\"x-large\":\"\"},on:{\"click\":function($event){return _vm.createGame()}},scopedSlots:_vm._u([{key:\"loader\",fn:function(){return [_c('span',[_vm._v(\"Loading...\")])]},proxy:true}])},[_vm._v(\" Create Game \")])],1),_c('v-row',{staticClass:\"mx-2 my-5\",scopedSlots:_vm._u([{key:\"loader\",fn:function(){return [_c('span',[_vm._v(\"Loading...\")])]},proxy:true}])},[_c('v-text-field',{staticStyle:{\"width\":\"0px\"},attrs:{\"label\":\"lobby code\",\"height\":\"34\",\"hide-details\":\"auto\",\"outlined\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.joinGame.apply(null, arguments)}},model:{value:(_vm.lobbyCode),callback:function ($$v) {_vm.lobbyCode=$$v},expression:\"lobbyCode\"}}),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":_vm.lobbyCode != ''},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({staticClass:\"tooltip-helper\",staticStyle:{\"flex-grow\":\"inherit\"}},on),[_c('v-btn',{staticClass:\"ma-0 ml-1\",staticStyle:{\"flex-grow\":\"inherit\"},attrs:{\"loading\":_vm.joinLoading,\"disabled\":_vm.joinLoading || _vm.lobbyCode === '',\"color\":\"primary\",\"outlined\":\"\",\"height\":\"56\",\"x-large\":\"\"},on:{\"click\":_vm.joinGame}},[_vm._v(\"Join game \")])],1)]}}])},[_c('span',[_vm._v(\"Enter a lobby code to join.\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport router from \"@/router/index\";\nimport { GlobalServices } from \"@/services/GlobalServices\";\nimport { createEmptyPlayer } from \"@/services/GameClient/utils\";\nimport { getLogger } from \"loglevel\";\nimport { getModule } from \"vuex-module-decorators\";\nimport { NotificationsModule } from \"@/services/Store/modules/Notifications\";\nimport { GameModule } from \"@/services/Store/modules/Game\";\n\nconst logger = getLogger(\"home-view\");\n\nexport default Vue.extend({\n  name: \"HomeView\",\n\n  mounted() {\n    GlobalServices.GameClient?.destroy?.();\n    GameModule.reset();\n  },\n\n  data: () => ({\n    createLoading: false,\n    joinLoading: false,\n    lobbyCode: \"\",\n    //\n  }),\n  methods: {\n    createGame: async function () {\n      if (this.createLoading) return;\n      this.confirmAndResetGame();\n      this.createLoading = true;\n      try {\n        await GlobalServices.PeerToPeer.setupAsHost();\n        GlobalServices.registerGameHost();\n        this.gotoLobby();\n      } catch (e) {\n        NotificationsModule.raiseNotification({\n          type: \"error\",\n          msg: \"unable to create game\",\n          error: e,\n        });\n        this.createLoading = false;\n        throw e;\n      }\n    },\n    joinGame: async function () {\n      if (this.joinLoading) return;\n      this.confirmAndResetGame();\n      this.joinLoading = true;\n      const lobbyCode = this.lobbyCode;\n      try {\n        await GlobalServices.PeerToPeer.setupByConnectingToId(lobbyCode);\n        this.gotoLobby();\n      } catch (e) {\n        NotificationsModule.raiseNotification({\n          type: \"error\",\n          msg: `unable to join lobby code \"${lobbyCode}\"`,\n          error: e,\n        });\n        this.joinLoading = false;\n        throw e;\n      }\n    },\n    confirmAndResetGame: function () {\n      if (GlobalServices.PeerToPeer.getIsConnected()) {\n        logger.warn(\"overriding existing game\");\n      }\n      GameModule.reset();\n      GlobalServices.PeerToPeer.dispose();\n    },\n    gotoLobby: function () {\n      GlobalServices.registerGameClient();\n      GameModule.addPlayer(\n        createEmptyPlayer(GlobalServices.PeerToPeer.getId())\n      );\n      router.push(\"/lobby/\" + GlobalServices.PeerToPeer.getId());\n    },\n  },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HomeView.vue?vue&type=template&id=38ff0128&scoped=true&\"\nimport script from \"./HomeView.vue?vue&type=script&lang=ts&\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HomeView.vue?vue&type=style&index=0&id=38ff0128&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38ff0128\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VContainer,VRow,VTextField,VTooltip})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","createLoading","on","$event","createGame","scopedSlots","_u","key","fn","_v","proxy","type","indexOf","_k","keyCode","joinGame","apply","arguments","model","value","callback","$$v","lobbyCode","expression","ref","_g","joinLoading","staticRenderFns","logger","getLogger","Vue","name","mounted","GlobalServices","destroy","GameModule","data","methods","confirmAndResetGame","gotoLobby","NotificationsModule","msg","error","warn","createEmptyPlayer","router","component","VBtn"],"sourceRoot":""}