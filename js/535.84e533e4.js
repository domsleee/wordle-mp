"use strict";(self["webpackChunkwordle_mp"]=self["webpackChunkwordle_mp"]||[]).push([[535],{5535:function(e,t,o){o.r(t),o.d(t,{default:function(){return k}});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{staticStyle:{"max-width":"450px"}},[o("v-row",{staticClass:"mx-2 my-5",attrs:{justify:"end"}},[o("v-btn",{attrs:{block:"",loading:e.createLoading,disabled:e.createLoading,color:"primary",outlined:"",height:"56","x-large":""},on:{click:function(t){return e.createGame()}},scopedSlots:e._u([{key:"loader",fn:function(){return[o("span",[e._v("Loading...")])]},proxy:!0}])},[e._v(" Create Game ")])],1),o("v-row",{staticClass:"mx-2 my-5",scopedSlots:e._u([{key:"loader",fn:function(){return[o("span",[e._v("Loading...")])]},proxy:!0}])},[o("v-text-field",{staticStyle:{width:"0px"},attrs:{label:"lobby code",height:"34","hide-details":"auto",outlined:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.joinGame.apply(null,arguments)}},model:{value:e.lobbyCode,callback:function(t){e.lobbyCode=t},expression:"lobbyCode"}}),o("v-tooltip",{attrs:{bottom:"",disabled:""!=e.lobbyCode},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[o("div",e._g({staticClass:"tooltip-helper",staticStyle:{"flex-grow":"inherit"}},n),[o("v-btn",{staticClass:"ma-0 ml-1",staticStyle:{"flex-grow":"inherit"},attrs:{loading:e.joinLoading,disabled:e.joinLoading||""===e.lobbyCode,color:"primary",outlined:"",height:"56","x-large":""},on:{click:e.joinGame}},[e._v("Join game ")])],1)]}}])},[o("span",[e._v("Enter a lobby code to join.")])])],1)],1)},i=[],a=o(144),r=o(6226),s=o(4229),l=o(919),d=o(2043),c=o(1062),u=o(179);const g=(0,d.getLogger)("home-view");var y=a.Z.extend({name:"HomeView",mounted(){s.$.GameClient.destroy?.(),u.x.reset()},data:()=>({createLoading:!1,joinLoading:!1,lobbyCode:""}),methods:{createGame:async function(){if(!this.createLoading){this.confirmAndResetGame(),this.createLoading=!0;try{await s.$.PeerToPeer.setupAsHost(),s.$.registerGameHost(),this.gotoLobby()}catch(e){throw c.F.raiseNotification({type:"error",msg:"unable to create game",error:e}),this.createLoading=!1,e}}},joinGame:async function(){if(this.joinLoading)return;this.confirmAndResetGame(),this.joinLoading=!0;const e=this.lobbyCode;try{await s.$.PeerToPeer.setupByConnectingToId(e),this.gotoLobby()}catch(t){throw c.F.raiseNotification({type:"error",msg:`unable to join lobby code "${e}"`,error:t}),this.joinLoading=!1,t}},confirmAndResetGame:function(){s.$.PeerToPeer.getIsConnected()&&g.warn("overriding existing game"),u.x.reset(),s.$.PeerToPeer.dispose()},gotoLobby:function(){s.$.registerGameClient(),u.x.addPlayer((0,l.tj)(s.$.PeerToPeer.getId())),r.C.push("/lobby/"+s.$.PeerToPeer.getId())}}}),b=y,m=o(1001),f=o(3453),h=o.n(f),p=o(4345),v=o(9846),x=o(2877),C=o(5337),w=o(6053),L=(0,m.Z)(b,n,i,!1,null,"38ff0128",null),k=L.exports;h()(L,{VBtn:p.Z,VContainer:v.Z,VRow:x.Z,VTextField:C.Z,VTooltip:w.Z})}}]);
//# sourceMappingURL=535.84e533e4.js.map